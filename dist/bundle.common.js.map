{"version":3,"file":"bundle.common.js","sources":["../node_modules/object-assign/index.js","../src/transform.js","../src/store.js","../src/event.mixin.js","../src/v-node.vue","../src/v-leaf.vue","../src/v-branch.vue","../src/index.vue","../node_modules/compare-versions/index.js","../src/index.js"],"sourcesContent":["/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","const objectAssign = require('object-assign');\n\n/**\n * standardlize a normal tree object\n * \n * @param data   data to be transformed\n * @param conf   contains keys to extract data from `data`\n * @param level  identifier inferring depth\n */\nconst transform = (data = {}, conf = {}, level = '0', path = '') => {\n  let newConf = objectAssign({}, conf, defaultConf);\n  \n  let { node, branch, leaf, checked, open } = newConf;\n  let name = data[node] || '/';\n  let branches = data[branch] || [];\n  let leafs   = data[leaf] || [];\n  let canOpen  = branches.length > 0 || leafs.length > 0;\n\n  branches = branches.map((branch, i) => {\n    return transform(branch, newConf, `${level}.${i}`, `${path}/${branch.name}`);\n  });\n  \n  leafs = leafs.map((leaf, i) => {\n    return {\n      checked,\n      name: leaf,\n      level: `${level}.${i}`,\n      path: `${path}/${leaf}`\n    };\n  });\n\n  return {\n    name,\n    level,\n    path,\n    node: { name, open, canOpen, checked, level },\n    branches,\n    leafs\n  };\n};\n\nconst defaultConf = {\n  node: 'name',\n  branch: 'dirs',\n  leaf: 'files',\n  open: false,\n  checked: false\n};\n\nmodule.exports = {\n  transform,\n  defaultConf\n};\n","const objectAssign = require('object-assign');\nconst { transform, defaultConf } = require('../src/transform');\nconst arrPush = [].push;\n\nmodule.exports = class Store {\n  constructor(data, conf) {\n    this.dataStore = this.setStore(data, conf);\n  }\n\n  /**\n   * set data store\n   * @private\n   */\n  setStore(data = {}, conf = defaultConf) {\n    return (this.dataStore = transform(data, conf));\n  }\n\n  /**\n   * get parent branch by levelId.\n   * result for a leaf is the branch it is on,\n   * for a branch,  result is it's parent branch.\n   * \n   * @private\n   * @param levelId\n   */\n  findParentBranch(levelId = '') {\n    let length = levelId.length;\n    let branch = this.dataStore;\n\n    if (length <= 1) {\n      return null;\n    }\n    \n    let lvs    = levelId.split('.').slice(1, -1);\n    let index  = 0;\n\n    while (branch && (index = lvs.shift())) {\n      branch = branch.branches[index];\n    }\n\n    return branch;\n  }\n\n  /**\n   * get current branch\n   * \n   * @private\n   * @param levelId \n   */\n  findCurrentBranch(levelId = '') {\n    let lvs    = levelId.split('.').slice(1);\n    let index  = 0;\n    let branch = this.dataStore;\n\n    while (branch && (index = lvs.shift())) {\n      branch = branch.branches[index];\n    }\n\n    return branch;\n  }\n\n  /**\n   * check ascendents of certain level rescursively\n   * to see if they should get checked\n   * \n   * @private\n   * @param branch    the descendent branch\n   * @param checked  if the descendent is checked\n   */\n  checkBranchAscendents(branch, checked) {\n    let nextStatus = false;\n\n    if (branch) {\n      if (checked) {\n        let allBranchesChecked = !branch.branches.some(b => !b.node.checked);\n        let allLeavesChecked   = !branch.leafs.some(l => !l.checked);\n        nextStatus = allBranchesChecked && allLeavesChecked;\n      }\n\n      branch.node.checked = nextStatus;\n      this.checkBranchAscendents(this.findParentBranch(branch.level), nextStatus);\n    }\n  }\n\n  /**\n   * check branch children and decendents.\n   * if node is checked, all children are checked too and vice versa.\n   *\n   * @private\n   * @param branch   current descendent branch\n   * @param checked  if the ascendent is checked\n   */\n  checkBranchDescendents(branch, checked) {\n    branch.node.checked = checked;\n    branch.leafs.forEach(l => l.checked = checked);\n    branch.branches.forEach(b => {\n      b.node.checked = checked;\n      this.checkBranchDescendents(b, checked);\n    });\n  }\n\n  /************************************************************************\n   * * * * * * * * * * * * Public Method Below * * * * * * * * * * * * * * \n   ************************************************************************/\n  /**\n   * if one node is checked/unchecked,\n   * we have to check/uncheck all ites descendents,\n   * and find if its ascendents should be checked.\n   * \n   * @param level  level of the node checked/unchecked\n   */\n  checkNode(node) {\n    let branch = this.findCurrentBranch(node.level);\n    let nextState = !branch.node.checked;\n    this.checkBranchDescendents(branch, nextState);\n    this.checkBranchAscendents(this.findParentBranch(branch.level), nextState);\n  }\n\n  /**\n   * check if a node should expand\n   * \n   * @param node  node of a branch\n   */\n  expandNode(node) {\n    node.open = !node.open;\n  }\n  \n  /**\n   * if a leaf is checked,\n   * we have to check all its ascendents\n   * to see if any should get checked to.\n   * \n   * @param leaf\n   */\n  checkLeaf(leaf) {\n    let leafBranch = this.findParentBranch(leaf.level);\n    let nextState = !leaf.checked;\n    leaf.checked = nextState;\n    this.checkBranchAscendents(leafBranch, nextState);\n  }\n  \n\n   /**\n   * @param data     replace empty branch\n   * @param levelId  inditifying where to replace\n   * @param conf     contains keys to extract data from `data` \n   */\n  replaceBranch(data, levelId = '0', conf = defaultConf) {\n    let lvs    = levelId.split('.').slice(1);\n    let index  = 0;\n    let clone  = objectAssign({}, this.dataStore);\n    let parent = clone;\n    let replacePos = lvs.pop();\n\n    while (parent && (index = lvs.shift())) {\n      parent = parent.branches[index];\n    }\n\n    parent.branches[replacePos] = transform(data, conf, levelId);\n\n    return (this.dataStore = clone);\n  }\n\n  /**\n   * get result as path\n   */\n  getPathResult(branch) {\n    branch = branch || this.dataStore;\n\n    let result = [];\n    let { node, branches, leafs, path } = branch;\n\n    if (node.checked) {\n      result.push(branch.path);\n    } else {\n      leafs.forEach(({ checked, path }) => {\n        if (checked) {\n          result.push(path);\n        }\n      });\n\n      branches.forEach(branch => {\n        arrPush.apply(result, this.getPathResult(branch))\n      });\n    }\n\n    return result;\n  }\n};\n","module.exports = {\n  methods: {\n    notify(type) {\n      this.$vemit(type, this.data);\n    }\n  }\n};\n","<template>\n  <li class=\"v-node\" :key=\"data.level\">\n    <i\n      class=\"fa\"\n      :class=\"[ data.canOpen && data.open ? 'fa-folder-open-o' : 'fa-folder-o' ]\"\n      @click=\"notify('NODE_OPEN')\"\n    ></i>\n    <span @click=\"notify('NODE_CHECK')\">\n      <i class=\"fa\" :class=\"[ data.checked ? 'fa-check-square-o' : 'fa-square-o' ]\"></i>\n      {{data.name}}\n    </span>\n  </li>\n</template>\n\n<script>\n  import notifyMixin from './event.mixin.js';\n\n  export default {\n    props: {\n      data: {\n        type: Object,\n        require: true\n      },\n      uid: {\n        type: [Number, String],\n        require: true\n      }\n    },\n    mixins: [notifyMixin]\n  };\n</script>\n","<template>\n  <li class=\"v-leaf\" @click=\"notify('LEAF_CHECK')\" :key=\"data.level\">\n    <i class=\"fa\" :class=\"[ data.checked ? 'fa-check-square-o' : 'fa-square-o' ]\"></i>\n    {{data.name}}\n  </li>\n</template>\n\n<script>\n  import notifyMixin from './event.mixin.js';\n\n  export default {\n    props: {\n      data: {\n        type: Object,\n        require: true\n      },\n      uid: {\n        type: [Number, String],\n        require: true\n      }\n    },\n    mixins: [notifyMixin]\n  };\n</script>\n","<template>\n  <li :key=\"node.level\" class=\"v-branch\">\n    <ul class=\"v-branch-body\">\n      <v-node :data=\"node\" :uid=\"uid\"></v-node>\n      <v-branch v-show=\"node.open\" v-for=\"branch in branches\" :data=\"branch\" :uid=\"uid\"></v-branch>\n      <v-leaf v-show=\"node.open\" v-for=\"leaf in leafs\" :data=\"leaf\" :uid=\"uid\"></v-leaf>\n    </ul>\n  </li>\n</template>\n\n<script>\n  import VLeaf from './v-leaf.vue';\n  import VNode from './v-node.vue';\n\n  export default {\n    name: 'v-branch',\n    props: {\n      data: {\n        type: Object,\n        require: true\n      },\n      uid: {\n        type: [Number, String],\n        require: true\n      }\n    },\n    components: {\n      'v-node': VNode,\n      'v-leaf': VLeaf\n    },\n    computed: {\n      branches() {\n        return this.data.branches;\n      },\n      leafs() {\n        return this.data.leafs;\n      },\n      node() {\n        return  this.data.node;\n      }\n    }\n  };\n</script>\n","<template lang=\"html\">\n  <ul class=\"v-branch-body\">\n    <v-node :data=\"node\" :uid=\"uid\"></v-node>\n    <v-branch v-show=\"node.open\" v-for=\"branch in branches\" :data=\"branch\" :uid=\"uid\"></v-branch>\n    <v-leaf v-show=\"node.open\" v-for=\"leaf in leafs\" :data=\"leaf\" :uid=\"uid\"></v-leaf>\n  </ul>\n</template>\n\n<script>\n  import Store from './store';\n  import VNode from './v-node.vue';\n  import VLeaf from './v-leaf.vue';\n  import VBranch from './v-branch.vue';\n  let uid = 2333;\n\n  export default {\n    name: 'v-folder',\n    props: {\n      data: Object,\n      conf: Object\n    },\n    components: {\n      'v-node': VNode,\n      'v-leaf': VLeaf,\n      'v-branch': VBranch\n    },\n    data() {\n      let store = new Store(this.data, this.conf);\n\n      return {\n        uid: uid++,\n        store,\n        root: store.dataStore\n      };\n    },\n    computed: {\n      branches() {\n        return this.root.branches;\n      },\n      leafs() {\n        return this.root.leafs;\n      },\n      node() {\n        return this.root.node;\n      }\n    },\n    created() {\n      this.$von('NODE_OPEN', node => {\n        this.store.expandNode(node);\n      });\n\n      this.$von('NODE_CHECK', node => {\n        this.store.checkNode(node);\n        this.$vemit('change', this.store.getPathResult());\n      });\n\n      this.$von('LEAF_CHECK', leaf => {\n        this.store.checkLeaf(leaf);\n        this.$emit('change', this.store.getPathResult());\n      });\n    },\n    destroyed () {\n      this.$voff();\n    }\n  };\n</script>\n\n<style>\n  /*----------------------------------------------------------------\n                            .v-branch\n  ---------------------------------------------------------------*/\n  .v-branch-body {\n    padding: 0;\n    font-size: 18px;\n    color: #666;\n    list-style: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n  }\n  .v-branch-body .v-branch {\n    margin-left: 27px;\n  }\n  .v-branch ul {\n    margin: 0;\n    padding: 0;\n    list-style: none;\n  }\n\n  /*----------------------------------------------------------------\n                            .v-node\n  ---------------------------------------------------------------*/\n  .v-node {\n    padding: 0;\n    cursor: pointer;\n    list-style: none;\n  }\n  .v-node .fa {\n    width: 20px;\n    color: #0d83e6;\n    text-align: center;\n  }\n  .v-node .fa:hover {\n    color: #0c71c5;\n  }\n\n  /*----------------------------------------------------------------\n                            .v-leaf\n  ---------------------------------------------------------------*/\n  .v-leaf {\n    padding: 0;\n    margin: 0 0 0 27px;\n    cursor: pointer;\n  }\n  .v-leaf .fa {\n    display: inline-block;\n    width: 20px;\n    color: #0d83e6;\n    text-align: center;\n    font: normal normal normal 14px/1 FontAwesome;\n    font-size: inherit;\n    text-rendering: auto;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale\n  }\n  .v-leaf .fa:hover {\n    color: #0c71c5;\n  }\n</style>\n\n\n","/* global define */\n(function (root, factory) {\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define([], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.compareVersions = factory();\n    }\n}(this, function () {\n\n    var semver = /^v?(?:0|[1-9]\\d*)(\\.(?:[x*]|0|[1-9]\\d*)(\\.(?:[x*]|0|[1-9]\\d*)(?:-[\\da-z\\-]+(?:\\.[\\da-z\\-]+)*)?(?:\\+[\\da-z\\-]+(?:\\.[\\da-z\\-]+)*)?)?)?$/i;\n    var patch = /-([0-9A-Za-z-.]+)/;\n\n    function split(v) {\n        var temp = v.split('.');\n        var arr = temp.splice(0, 2);\n        arr.push(temp.join('.'));\n        return arr;\n    }\n\n    function tryParse(v) {\n        return isNaN(Number(v)) ? v : Number(v);\n    }\n\n    function validate(version) {\n        if (typeof version !== 'string') {\n            throw new TypeError('Invalid argument expected string');\n        }\n        if (!semver.test(version)) {\n            throw new Error('Invalid argument not valid semver');\n        }\n    }\n\n    return function compareVersions(v1, v2) {\n        [v1, v2].forEach(validate);\n\n        var s1 = split(v1);\n        var s2 = split(v2);\n\n        for (var i = 0; i < 3; i++) {\n            var n1 = parseInt(s1[i] || 0, 10);\n            var n2 = parseInt(s2[i] || 0, 10);\n\n            if (n1 > n2) return 1;\n            if (n2 > n1) return -1;\n        }\n\n        if ([s1[2], s2[2]].every(patch.test.bind(patch))) {\n            var p1 = patch.exec(s1[2])[1].split('.').map(tryParse);\n            var p2 = patch.exec(s2[2])[1].split('.').map(tryParse);\n\n            for (i = 0; i < Math.max(p1.length, p2.length); i++) {\n                if (p1[i] === undefined || typeof p2[i] === 'string' && typeof p1[i] === 'number') return -1;\n                if (p2[i] === undefined || typeof p1[i] === 'string' && typeof p2[i] === 'number') return 1;\n\n                if (p1[i] > p2[i]) return 1;\n                if (p2[i] > p1[i]) return -1;\n            }\n        } else if ([s1[2], s2[2]].some(patch.test.bind(patch))) {\n            return patch.test(s1[2]) ? -1 : 1;\n        }\n\n        return 0;\n    };\n\n}));\n","import VFolderComp from './index.vue';\nimport compareVersion from 'compare-versions';\n\nconst checkVersion = function () {\n  let compare = function (v1, v2) {\n    return compareVersion(v1, v2) >= 0;\n  };\n\n  // if must compile template\n  if (procee.env.MODE === 'compile') {\n    // `compileTemplate: true` will error\n    // before version 2.1.5\n    if (!compare(Vue.version, '2.1.5')) {\n      throw 'Vue before verison 2.1.5 will cause error.\\n Pleasw consider updating vue, or just require `bundle.common.js` instead of `bundle.compile.js`';\n    }\n  }\n\n  // warn that will not support vue@1\n  if (!compare(Vue.version, '2.0.0')) {\n    throw 'This module can only supports vue@2!';\n  }\n};\n\nconst eventMix = function () {\n  // inject a eventbus\n  let hub = new Vue();\n  let proto = Vue.prototype;\n\n  proto.$von = function (type, cb) {\n    let uid = this.uid;\n    let vm = this;\n    let fn = function(e) {\n      if (uid === e.uid && cb) {\n        cb(e.data);\n      }\n    };\n    hub.$on(`${type}@${uid}`, fn);\n  };\n\n  proto.$vonce = function (type, cb) {\n    let uid = this.uid;\n    let vm = this;\n    let fn = function(e) {\n      console.log(e)\n      if (uid === e.uid && cb) {\n        cb(e.data);\n      }\n    };\n    hub.$once(`${type}@${uid}`, fn);\n  };\n\n  proto.$vemit = function (type, data) {\n    let uid = this.uid;\n    hub.$emit(`${type}@${uid}`, { data, uid });\n  };\n\n  proto.$voff = function (type, fn) {\n    let uid = this.uid;\n\n    if (type) {\n      hub.$off(`${type}@${uid}`, fn);\n    } else {\n      uid = '@' + uid;\n      let len = uid.length;\n      let types = Object.keys(hub._events);\n      let match = types.filter(k => key.slice(-len) === uid);\n      match.forEach(k => {\n        hub.$off(k, fn);\n      })\n    }\n  };\n};\n\nVFolderComp.install = Vue => {\n  checkVersion(Vue)\n  eventMix(Vue);\n  Vue.component(VFolderComp.name, VFolderComp);\n};\n\nexport default VFolderComp;\n"],"names":["toObject","val","undefined","TypeError","Object","shouldUseNative","assign","test1","String","getOwnPropertyNames","test2","i","fromCharCode","order2","map","n","join","test3","split","forEach","letter","keys","err","getOwnPropertySymbols","hasOwnProperty","prototype","propIsEnumerable","propertyIsEnumerable","target","source","from","symbols","to","s","arguments","length","key","call","objectAssign","require$$0","transform","data","conf","level","path","let","newConf","defaultConf","node","branch","leaf","checked","open","name","branches","leafs","canOpen","arrPush","push","this","dataStore","setStore","Store","findParentBranch","levelId","lvs","slice","index","shift","findCurrentBranch","checkBranchAscendents","nextStatus","allBranchesChecked","some","b","allLeavesChecked","l","checkBranchDescendents","checkNode","nextState","expandNode","checkLeaf","leafBranch","replaceBranch","clone","parent","replacePos","pop","getPathResult","result","ref","apply","methods","notify","type","$vemit","props","require","uid","Number","mixins","notifyMixin","components","v-node","VNode","v-leaf","VLeaf","computed","v-branch","VBranch","store","root","created","$von","$emit","destroyed","$voff","factory","module","v","temp","arr","splice","tryParse","isNaN","validate","version","semver","test","Error","patch","v1","v2","s1","s2","n1","parseInt","n2","every","bind","p1","exec","p2","Math","max","checkVersion","compare","compareVersion","Vue","eventMix","hub","proto","cb","fn","e","$on","$vonce","console","log","$once","$off","len","types","_events","match","filter","k","VFolderComp","install","component"],"mappings":"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"}