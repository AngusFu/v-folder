{"version":3,"file":"bundle.compile.js","sources":["../node_modules/object-assign/index.js","../src/transform.js","../src/mixin.js","../node_modules/clone/clone.js","../src/store.js","../src/v-node.vue","../src/v-leaf.vue","../src/v-branch.vue","../src/v-tree.vue","../src/index.vue","../node_modules/compare-versions/index.js","../src/install.js","../src/index.js"],"sourcesContent":["/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","import objectAssign from 'object-assign';\n\n/**\n * standardlize a normal tree object\n * \n * @param data   data to be transformed\n * @param conf   contains keys to extract data from `data`\n * @param level  identifier inferring depth\n */\nexport default transform;\n\nfunction transform(data = {}, config, level, path) {\n  let { node, branch, leaf, checked, open } = config;\n  let name = data[node] || '/';\n  let branches = data[branch] || [];\n  let leafs   = data[leaf] || [];\n  let canOpen  = branches.length > 0 || leafs.length > 0;\n\n  path = path || `/${name}`;\n  \n  branches = branches.map((branch, i) => {\n    return transform(branch, config, `${level}.${i}`, `${path}/${branch.name}`);\n  });\n  \n  leafs = leafs.map((leaf, i) => {\n    return {\n      name: leaf,\n      type: 'leaf',\n      checked,\n      level: `${level}.${i}`,\n      path: `${path}/${leaf}`\n    };\n  });\n\n  let status = canOpen ? 'filled' : 'empty';\n\n  return {\n    name,\n    type: 'branch',\n    level,\n    path,\n    node: { name, open, canOpen, checked, level, path, type: 'node', status },\n    branches,\n    leafs,\n  };\n};\n\n// function raw(tree, conf) {\n//   conf = objectAssign({}, conf, defaultConf);\n//   let { node, branch, leaf } = conf;\n//   let ret = {};\n//   ret[node] = tree.name;\n//   ret[branch] = tree.branches.map(b => raw(b, conf));\n//   ret[leaf] = tree.leafs.map(l => l.name);\n//   return ret;\n// }\n\n// transform.raw = raw;\n","export default {\n  methods: {\n    notify(type) {\n      if (process.env.ENV === 'prod') {\n        console.info('[event type]:', type);\n      }\n      this.___vemit(type, this.data);\n    },\n    listen(type, fn) {\n      this.___von(type, e => {\n        fn(e);\n      });\n    }\n  },\n  destroyed() {\n    this.___voff();\n  }\n};\n","var clone = (function() {\n'use strict';\n\nvar nativeMap;\ntry {\n  nativeMap = Map;\n} catch(_) {\n  // maybe a reference error because no `Map`. Give it a dummy value that no\n  // value will ever be an instanceof.\n  nativeMap = function() {};\n}\n\nvar nativeSet;\ntry {\n  nativeSet = Set;\n} catch(_) {\n  nativeSet = function() {};\n}\n\nvar nativePromise;\ntry {\n  nativePromise = Promise;\n} catch(_) {\n  nativePromise = function() {};\n}\n\n/**\n * Clones (copies) an Object using deep copying.\n *\n * This function supports circular references by default, but if you are certain\n * there are no circular references in your object, you can save some CPU time\n * by calling clone(obj, false).\n *\n * Caution: if `circular` is false and `parent` contains circular references,\n * your program may enter an infinite loop and crash.\n *\n * @param `parent` - the object to be cloned\n * @param `circular` - set to true if the object to be cloned may contain\n *    circular references. (optional - true by default)\n * @param `depth` - set to a number if the object is only to be cloned to\n *    a particular depth. (optional - defaults to Infinity)\n * @param `prototype` - sets the prototype to be used when cloning an object.\n *    (optional - defaults to parent prototype).\n * @param `includeNonEnumerable` - set to true if the non-enumerable properties\n *    should be cloned as well. Non-enumerable properties on the prototype\n *    chain will be ignored. (optional - false by default)\n*/\nfunction clone(parent, circular, depth, prototype, includeNonEnumerable) {\n  if (typeof circular === 'object') {\n    depth = circular.depth;\n    prototype = circular.prototype;\n    includeNonEnumerable = circular.includeNonEnumerable;\n    circular = circular.circular;\n  }\n  // maintain two arrays for circular references, where corresponding parents\n  // and children have the same index\n  var allParents = [];\n  var allChildren = [];\n\n  var useBuffer = typeof Buffer != 'undefined';\n\n  if (typeof circular == 'undefined')\n    circular = true;\n\n  if (typeof depth == 'undefined')\n    depth = Infinity;\n\n  // recurse this function so we don't reset allParents and allChildren\n  function _clone(parent, depth) {\n    // cloning null always returns null\n    if (parent === null)\n      return null;\n\n    if (depth === 0)\n      return parent;\n\n    var child;\n    var proto;\n    if (typeof parent != 'object') {\n      return parent;\n    }\n\n    if (parent instanceof nativeMap) {\n      child = new nativeMap();\n    } else if (parent instanceof nativeSet) {\n      child = new nativeSet();\n    } else if (parent instanceof nativePromise) {\n      child = new nativePromise(function (resolve, reject) {\n        parent.then(function(value) {\n          resolve(_clone(value, depth - 1));\n        }, function(err) {\n          reject(_clone(err, depth - 1));\n        });\n      });\n    } else if (clone.__isArray(parent)) {\n      child = [];\n    } else if (clone.__isRegExp(parent)) {\n      child = new RegExp(parent.source, __getRegExpFlags(parent));\n      if (parent.lastIndex) child.lastIndex = parent.lastIndex;\n    } else if (clone.__isDate(parent)) {\n      child = new Date(parent.getTime());\n    } else if (useBuffer && Buffer.isBuffer(parent)) {\n      child = new Buffer(parent.length);\n      parent.copy(child);\n      return child;\n    } else if (parent instanceof Error) {\n      child = Object.create(parent);\n    } else {\n      if (typeof prototype == 'undefined') {\n        proto = Object.getPrototypeOf(parent);\n        child = Object.create(proto);\n      }\n      else {\n        child = Object.create(prototype);\n        proto = prototype;\n      }\n    }\n\n    if (circular) {\n      var index = allParents.indexOf(parent);\n\n      if (index != -1) {\n        return allChildren[index];\n      }\n      allParents.push(parent);\n      allChildren.push(child);\n    }\n\n    if (parent instanceof nativeMap) {\n      var keyIterator = parent.keys();\n      while(true) {\n        var next = keyIterator.next();\n        if (next.done) {\n          break;\n        }\n        var keyChild = _clone(next.value, depth - 1);\n        var valueChild = _clone(parent.get(next.value), depth - 1);\n        child.set(keyChild, valueChild);\n      }\n    }\n    if (parent instanceof nativeSet) {\n      var iterator = parent.keys();\n      while(true) {\n        var next = iterator.next();\n        if (next.done) {\n          break;\n        }\n        var entryChild = _clone(next.value, depth - 1);\n        child.add(entryChild);\n      }\n    }\n\n    for (var i in parent) {\n      var attrs;\n      if (proto) {\n        attrs = Object.getOwnPropertyDescriptor(proto, i);\n      }\n\n      if (attrs && attrs.set == null) {\n        continue;\n      }\n      child[i] = _clone(parent[i], depth - 1);\n    }\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(parent);\n      for (var i = 0; i < symbols.length; i++) {\n        // Don't need to worry about cloning a symbol because it is a primitive,\n        // like a number or string.\n        var symbol = symbols[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, symbol);\n        if (descriptor && !descriptor.enumerable && !includeNonEnumerable) {\n          continue;\n        }\n        child[symbol] = _clone(parent[symbol], depth - 1);\n        if (!descriptor.enumerable) {\n          Object.defineProperty(child, symbol, {\n            enumerable: false\n          });\n        }\n      }\n    }\n\n    if (includeNonEnumerable) {\n      var allPropertyNames = Object.getOwnPropertyNames(parent);\n      for (var i = 0; i < allPropertyNames.length; i++) {\n        var propertyName = allPropertyNames[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, propertyName);\n        if (descriptor && descriptor.enumerable) {\n          continue;\n        }\n        child[propertyName] = _clone(parent[propertyName], depth - 1);\n        Object.defineProperty(child, propertyName, {\n          enumerable: false\n        });\n      }\n    }\n\n    return child;\n  }\n\n  return _clone(parent, depth);\n}\n\n/**\n * Simple flat clone using prototype, accepts only objects, usefull for property\n * override on FLAT configuration object (no nested props).\n *\n * USE WITH CAUTION! This may not behave as you wish if you do not know how this\n * works.\n */\nclone.clonePrototype = function clonePrototype(parent) {\n  if (parent === null)\n    return null;\n\n  var c = function () {};\n  c.prototype = parent;\n  return new c();\n};\n\n// private utility functions\n\nfunction __objToStr(o) {\n  return Object.prototype.toString.call(o);\n}\nclone.__objToStr = __objToStr;\n\nfunction __isDate(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Date]';\n}\nclone.__isDate = __isDate;\n\nfunction __isArray(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Array]';\n}\nclone.__isArray = __isArray;\n\nfunction __isRegExp(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object RegExp]';\n}\nclone.__isRegExp = __isRegExp;\n\nfunction __getRegExpFlags(re) {\n  var flags = '';\n  if (re.global) flags += 'g';\n  if (re.ignoreCase) flags += 'i';\n  if (re.multiline) flags += 'm';\n  return flags;\n}\nclone.__getRegExpFlags = __getRegExpFlags;\n\nreturn clone;\n})();\n\nif (typeof module === 'object' && module.exports) {\n  module.exports = clone;\n}\n","import objectAssign from 'object-assign';\nimport deepClone from 'clone';\nimport transform from '../src/transform';\n\nconst arrPush = [].push;\nconst noop = _ => _;\nconst defaultConf = {\n  node: 'name',\n  branch: 'dirs',\n  leaf: 'files',\n  open: false,\n  checked: false\n};\n\nexport default class Store {\n  constructor(data, conf) {\n    let path = data.path || data.name;\n    let name = path.split('/').filter(s => !!s).slice(-1)[0] || data.name;\n    data.name = name;\n    this.conf = objectAssign({}, conf, defaultConf);\n    this.dataStore = transform(data, this.conf, '0', path);\n  }\n\n  /**\n   * set data store\n   * @private\n   */\n  replace(newTree) {\n    this.dataStore = newTree;\n  }\n\n  /**\n   * get parent branch by levelId.\n   * result for a leaf is the branch it is on,\n   * for a branch,  result is it's parent branch.\n   * \n   * @private\n   * @param levelId\n   */\n  findParentBranch(levelId = '') {\n    let length = levelId.length;\n    let branch = this.dataStore;\n\n    if (length <= 1) {\n      return null;\n    }\n    \n    let lvs    = levelId.split('.').slice(1, -1);\n    let index  = 0;\n\n    while (branch && (index = lvs.shift())) {\n      branch = branch.branches[index];\n    }\n\n    return branch;\n  }\n\n  /**\n   * get current branch\n   * \n   * @private\n   * @param levelId \n   */\n  findCurrentBranch(levelId = '') {\n    let lvs    = levelId.split('.').slice(1);\n    let index  = 0;\n    let branch = this.dataStore;\n\n    while (branch && (index = lvs.shift())) {\n      branch = branch.branches[index];\n    }\n\n    return branch;\n  }\n\n  /**\n   * check ascendents of certain level rescursively\n   * to see if they should get checked\n   * \n   * @private\n   * @param branch    the descendent branch\n   * @param checked  if the descendent is checked\n   */\n  checkBranchAscendents(branch, checked) {\n    let nextStatus = false;\n\n    if (branch) {\n      if (checked) {\n        let allBranchesChecked = !branch.branches.some(b => !b.node.checked);\n        let allLeavesChecked   = !branch.leafs.some(l => !l.checked);\n        nextStatus = allBranchesChecked && allLeavesChecked;\n      }\n\n      branch.node.checked = nextStatus;\n      this.checkBranchAscendents(this.findParentBranch(branch.level), nextStatus);\n    }\n  }\n\n  /**\n   * check branch children and decendents.\n   * if node is checked, all children are checked too and vice versa.\n   *\n   * @private\n   * @param branch   current descendent branch\n   * @param checked  if the ascendent is checked\n   */\n  checkBranchDescendents(branch, checked) {\n    branch.node.checked = checked;\n    branch.leafs.forEach(l => l.checked = checked);\n    branch.branches.forEach(b => {\n      b.node.checked = checked;\n      this.checkBranchDescendents(b, checked);\n    });\n  }\n\n  /************************************************************************\n   * * * * * * * * * * * * Public Method Below * * * * * * * * * * * * * * \n   ************************************************************************/\n  /**\n   * if one node is checked/unchecked,\n   * we have to check/uncheck all ites descendents,\n   * and find if its ascendents should be checked.\n   * \n   * @param level  level of the node checked/unchecked\n   */\n  checkNode(node) {\n    let branch = this.findCurrentBranch(node.level);\n    let nextState = !branch.node.checked;\n    this.checkBranchDescendents(branch, nextState);\n    this.checkBranchAscendents(this.findParentBranch(branch.level), nextState);\n  }\n  \n  /**\n   * if a leaf is checked,\n   * we have to check all its ascendents\n   * to see if any should get checked to.\n   * \n   * @param leaf\n   */\n  checkLeaf(leaf) {\n    let leafBranch = this.findParentBranch(leaf.level);\n    let nextState = !leaf.checked;\n    leaf.checked = nextState;\n    this.checkBranchAscendents(leafBranch, nextState);\n  }\n\n   /**\n    * merge a branch to current tree\n    * @param branch\n    */\n  merge(\n    data = {},\n    node = {\n      level: '0',\n      path: ''\n    }\n  ) {\n    let { level, path, checked } = node;\n    let lvs = level.split('.').slice(1);\n    let branch = transform(data, this.conf, level, path);\n\n    branch.node.open = true;\n    branch.node.checked = checked;\n    branch.node.status = 'done';\n\n    if (lvs.length === 0) {\n      this.replace(branch);\n    } else {\n      let clone = deepClone(this.dataStore);\n      let top   = clone;\n      let pos   = lvs.pop();\n      let index = 0;\n\n      while (index = lvs.shift()) {\n        top = top.branches[index];\n      }\n      top.branches.splice(pos, 1, branch);\n      top.node.canOpen = true;\n\n      this.replace(clone);\n    }\n\n\n    this.checkBranchDescendents(branch, checked);\n  }\n\n  /**\n   * deal with actions\n   */\n  commit(action, elem, callback = noop) {\n    let isNode = elem.type === 'node';\n    \n    switch (action) {\n      case 'change':\n        this[isNode ? 'checkNode' : 'checkLeaf'](elem);\n        callback(this.getPathResult());\n        break;\n\n      case 'fold':\n        if (isNode) {\n          elem.open = !elem.open;\n          elem.canOpen || elem.status === 'done' || callback();\n        }\n        break;\n    }\n  }\n\n  /**\n   * get result as path\n   */\n  getPathResult(branch) {\n    branch = branch || this.dataStore;\n\n    let result = [];\n    let { node, branches, leafs, path } = branch;\n\n    if (node.checked) {\n      result.push(branch.path);\n    } else {\n      leafs.forEach(({ checked, path }) => {\n        if (checked) {\n          result.push(path);\n        }\n      });\n\n      branches.forEach(branch => {\n        arrPush.apply(result, this.getPathResult(branch))\n      });\n    }\n\n    return result;\n  }\n\n  raw() {\n    return transform.raw(this.dataStore, this.conf);\n  }\n};\n","<template>\n  <li class=\"v-node\" :key=\"data.level\">\n    <i\n      class=\"fa\"\n      :class=\"icon\"\n      @click=\"notify('unfold')\"\n    ></i>\n    <span @click=\"notify('change')\">\n      <i class=\"fa\" :class=\"[ data.checked ? 'fa-check-square-o' : 'fa-square-o' ]\"></i>\n      {{data.name}}\n    </span>\n  </li>\n</template>\n\n<script>\n  import EventMixin from './mixin';\n  export default {\n    name: 'v-node',\n    mixins: [EventMixin],\n    props: {\n      data: {\n        type: Object,\n        required: true\n      },\n      uid: {\n        type: [String, Number],\n        required: true\n      }\n    },\n    computed: {\n      icon() {\n        let data = this.data;\n        let folderLoding = data.status === 'loading';\n        let folderOpen = data.canOpen && data.open;\n        let isEmpty = !data.canOpen && data.status === 'done';\n        return {\n          'fa-spinner cursor-progress': folderLoding,\n          'fa-folder-open-o': !folderLoding && folderOpen,\n          'fa-folder-o': !folderLoding && !folderOpen,\n          'cursor-no-ops': isEmpty\n        };\n      }\n    }\n  };\n</script>\n","<template>\n  <li class=\"v-leaf\" @click=\"notify('change')\" :key=\"data.level\">\n    <i class=\"fa\" :class=\"[ data.checked ? 'fa-check-square-o' : 'fa-square-o' ]\"></i>\n    {{data.name}}\n  </li>\n</template>\n\n<script>\n  import EventMixin from './mixin';\n  export default {\n    name: 'v-leaf',\n    mixins: [EventMixin],\n    props: {\n      data: {\n        type: Object,\n        required: true\n      },\n      uid: {\n        type: [String, Number],\n        required: true\n      }\n    }\n  };\n</script>\n","<template>\n  <li :key=\"node.level\" class=\"v-branch\">\n    <ul class=\"v-branch-body\">\n      <v-node :data=\"node\" :uid=\"uid\"></v-node>\n      <v-branch v-show=\"node.open\" v-for=\"branch in branches\" :data=\"branch\" :uid=\"uid\"></v-branch>\n      <v-leaf v-show=\"node.open\" v-for=\"leaf in leafs\" :data=\"leaf\" :uid=\"uid\"></v-leaf>\n    </ul>\n  </li>\n</template>\n\n<script>\n  import EventMixin from './mixin';\n  import VLeaf from './v-leaf.vue';\n  import VNode from './v-node.vue';\n\n  export default {\n    name: 'v-branch',\n    mixins: [EventMixin],\n    props: {\n      data: {\n        type: Object,\n        required: true\n      },\n      uid: {\n        type: [String, Number],\n        required: true\n      }\n    },\n    components: {\n      'v-node': VNode,\n      'v-leaf': VLeaf\n    },\n    computed: {\n      branches() {\n        return this.data.branches;\n      },\n      leafs() {\n        return this.data.leafs;\n      },\n      node() {\n        return  this.data.node;\n      }\n    }\n  };\n</script>\n","<template lang=\"html\">\n  <ul class=\"v-branch-body\">\n    <v-node :data=\"node\" :uid=\"uid\"></v-node>\n    <v-branch v-show=\"node.open\" v-for=\"branch in branches\" :data=\"branch\" :uid=\"uid\"></v-branch>\n    <v-leaf v-show=\"node.open\" v-for=\"leaf in leafs\" :data=\"leaf\" :uid=\"uid\"></v-leaf>\n  </ul>\n</template>\n\n<script>\n  import EventMixin from './mixin';\n  import VNode from './v-node.vue';\n  import VLeaf from './v-leaf.vue';\n  import VBranch from './v-branch.vue';\n\n  export default {\n    name: 'v-tree',\n    mixins: [EventMixin],\n    props: {\n      store: {\n        type: Object,\n        required: true\n      },\n      uid: {\n        type: [String, Number],\n        required: true\n      }\n    },\n    components: {\n      'v-node': VNode,\n      'v-leaf': VLeaf,\n      'v-branch': VBranch\n    },\n    computed: {\n      root() {\n        return this.store.dataStore;\n      },\n      branches() {\n        return this.root.branches;\n      },\n      leafs() {\n        return this.root.leafs;\n      },\n      node() {\n        return this.root.node;\n      }\n    }\n  };\n</script>\n\n<style>\n  /*----------------------------------------------------------------\n                            .v-branch\n  ---------------------------------------------------------------*/\n  .v-branch-body {\n    padding: 0;\n    font-size: 18px;\n    color: #666;\n    list-style: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n  }\n  .v-branch-body .v-branch {\n    margin-left: 27px;\n  }\n  .v-branch ul {\n    margin: 0;\n    padding: 0;\n    list-style: none;\n  }\n\n  /*----------------------------------------------------------------\n                            .v-node\n  ---------------------------------------------------------------*/\n  .v-node {\n    padding: 0;\n    cursor: pointer;\n    list-style: none;\n  }\n  .v-node .fa {\n    width: 20px;\n    color: #0d83e6;\n    text-align: center;\n  }\n  .v-node .fa:hover {\n    color: #0c71c5;\n  }\n\n  /*----------------------------------------------------------------\n                            .v-leaf\n  ---------------------------------------------------------------*/\n  .v-leaf {\n    padding: 0;\n    margin: 0 0 0 27px;\n    cursor: pointer;\n  }\n  .v-leaf .fa {\n    display: inline-block;\n    width: 20px;\n    color: #0d83e6;\n    text-align: center;\n    font: normal normal normal 14px/1 FontAwesome;\n    font-size: inherit;\n    text-rendering: auto;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale\n  }\n  .v-leaf .fa:hover {\n    color: #0c71c5;\n  }\n\n  .cursor-no-ops {\n    cursor: not-allowed;\n  }\n  .cursor-progress {\n    cursor: progress;\n  }\n</style>\n\n\n","<template>\n  <v-tree :store=\"store\" :uid=\"uid\"></v-tree>\n</template>\n<script>\n  let KEY_MAP = {};\n  import EventMixin from './mixin';\n  import Store from './store';\n  import VTree from './v-tree.vue';\n\n  export default {\n    name: 'v-folder',\n    mixins: [EventMixin],\n    props: {\n      data: Object,\n      uid: {\n        type: [String, Number],\n        required: true\n      },\n      ajax: Object,\n      conf: Object\n    },\n    components: {\n      'v-tree': VTree\n    },\n    data() {\n      return {\n        store: new Store(this.data, this.conf)\n      };\n    },\n    methods: {\n      request(node, done) {\n        if (!this.ajax) {\n          return done('ajax:false');\n        }\n        \n        let conf = this.conf || {};\n        let dirKey  = conf['branch'] || 'dirs';\n        let fileKey = conf['leaf'] || 'files';\n        let nameKey = conf['node'] || 'name';\n  \n        let reqConf = this.ajax;\n        let { url, method, data, params, pathAs } = reqConf;\n        let isGET = method.toUpperCase() === 'GET';\n        \n        if (isGET) {\n          reqConf.params = (params || {});\n          reqConf.params[pathAs] = node.path;\n        } else {\n          reqConf.data = (data || {});\n          reqConf.data[pathAs] = node.path;\n        }\n\n        this.$http(reqConf).then(res => {\n          let data = res.data;\n          data[dirKey] = data[dirKey].map(d => ({[nameKey]: d}));\n          done(null, data);\n        })\n        .catch(e => {\n          done(e);\n        });\n      }\n    },\n    created() {\n      let uid = this.uid;\n      if (uid in KEY_MAP) {\n        throw 'each <v-folder> instance must get an unique `uid` property';\n      } else {\n        KEY_MAP[uid] = null;\n      }\n\n      this.listen('change', node => {\n        this.store.commit('change', node, result => {\n          this.$emit('change', result);\n        });\n      });\n\n      this.listen('unfold', node => {\n        this.store.commit('fold', node, () => {\n          node.status = 'loading';\n          this.request(node, (err, data) => {\n            if (err) {\n              node.status = 'empty';\n            } else {\n              this.store.merge(data, node);\n            }\n          });\n        });\n      });\n    }\n  };\n</script>\n","/* global define */\n(function (root, factory) {\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define([], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.compareVersions = factory();\n    }\n}(this, function () {\n\n    var semver = /^v?(?:0|[1-9]\\d*)(\\.(?:[x*]|0|[1-9]\\d*)(\\.(?:[x*]|0|[1-9]\\d*)(?:-[\\da-z\\-]+(?:\\.[\\da-z\\-]+)*)?(?:\\+[\\da-z\\-]+(?:\\.[\\da-z\\-]+)*)?)?)?$/i;\n    var patch = /-([0-9A-Za-z-.]+)/;\n\n    function split(v) {\n        var temp = v.split('.');\n        var arr = temp.splice(0, 2);\n        arr.push(temp.join('.'));\n        return arr;\n    }\n\n    function tryParse(v) {\n        return isNaN(Number(v)) ? v : Number(v);\n    }\n\n    function validate(version) {\n        if (typeof version !== 'string') {\n            throw new TypeError('Invalid argument expected string');\n        }\n        if (!semver.test(version)) {\n            throw new Error('Invalid argument not valid semver');\n        }\n    }\n\n    return function compareVersions(v1, v2) {\n        [v1, v2].forEach(validate);\n\n        var s1 = split(v1);\n        var s2 = split(v2);\n\n        for (var i = 0; i < 3; i++) {\n            var n1 = parseInt(s1[i] || 0, 10);\n            var n2 = parseInt(s2[i] || 0, 10);\n\n            if (n1 > n2) return 1;\n            if (n2 > n1) return -1;\n        }\n\n        if ([s1[2], s2[2]].every(patch.test.bind(patch))) {\n            var p1 = patch.exec(s1[2])[1].split('.').map(tryParse);\n            var p2 = patch.exec(s2[2])[1].split('.').map(tryParse);\n\n            for (i = 0; i < Math.max(p1.length, p2.length); i++) {\n                if (p1[i] === undefined || typeof p2[i] === 'string' && typeof p1[i] === 'number') return -1;\n                if (p2[i] === undefined || typeof p1[i] === 'string' && typeof p2[i] === 'number') return 1;\n\n                if (p1[i] > p2[i]) return 1;\n                if (p2[i] > p1[i]) return -1;\n            }\n        } else if ([s1[2], s2[2]].some(patch.test.bind(patch))) {\n            return patch.test(s1[2]) ? -1 : 1;\n        }\n\n        return 0;\n    };\n\n}));\n","import compareVersion from 'compare-versions';\n\nexport const checkVersion = function () {\n  let compare = function (v1, v2) {\n    return compareVersion(v1, v2) >= 0;\n  };\n\n  // if must compile template\n  if (process.env.MODE === 'compile') {\n    // `compileTemplate: true` will error\n    // before version 2.1.5\n    if (!compare(Vue.version, '2.1.5')) {\n      throw 'Vue before verison 2.1.5 will cause error.\\n Pleasw consider updating vue, or just require `bundle.common.js` instead of `bundle.compile.js`';\n    }\n  }\n\n  // warn that will not support vue@1\n  if (!compare(Vue.version, '2.0.0')) {\n    throw 'This module can only supports vue@2!';\n  }\n};\n\nexport const eventMix = function () {\n  let hub = new Vue();\n  let proto = Vue.prototype;\n\n  proto.___von = function (type, cb) {\n    let uid = this.uid;\n    let vm = this;\n    let fn = function(e) {\n      if (uid === e.uid && cb) {\n        cb(e.data);\n      }\n    };\n    hub.$on(`#${uid}@${type}`, fn);\n  };\n\n  proto.___vemit = function (type, data) {\n    let uid = this.uid;\n    hub.$emit(`#${uid}@${type}`, { data, uid });\n  };\n\n  proto.___voff = function (type, fn) {\n    let uid = this.uid;\n\n    if (type) {\n      hub.$off(`#${uid}@${type}`, fn);\n    } else {\n      uid = `#${uid}@`\n      let len = uid.length;\n      let types = Object.keys(hub._events);\n      let match = types.filter(k => k.indexOf(uid) === 0);\n      match.forEach(k => {\n        hub.$off(k, fn);\n      })\n    }\n  };\n};\n","import VFolderComp from './index.vue';\nimport { checkVersion, eventMix } from './install';\n\nVFolderComp.install = Vue => {\n  checkVersion(Vue)\n  eventMix(Vue);\n  Vue.component(VFolderComp.name, VFolderComp);\n};\n\nexport default VFolderComp;\n"],"names":["toObject","val","undefined","TypeError","Object","shouldUseNative","assign","test1","String","getOwnPropertyNames","test2","i","fromCharCode","order2","map","n","join","test3","split","forEach","letter","keys","err","transform","data","config","level","path","node","branch","leaf","checked","open","name","branches","leafs","canOpen","length","type","let","status","methods","notify","this","___vemit","listen","fn","___von","e","destroyed","___voff","getOwnPropertySymbols","hasOwnProperty","prototype","propIsEnumerable","propertyIsEnumerable","target","source","from","symbols","to","s","arguments","key","call","clone","parent","circular","depth","includeNonEnumerable","_clone","child","proto","nativeMap","nativeSet","nativePromise","resolve","reject","then","value","__isArray","__isRegExp","RegExp","__getRegExpFlags","lastIndex","__isDate","Date","getTime","useBuffer","Buffer","isBuffer","copy","Error","create","getPrototypeOf","index","allParents","indexOf","allChildren","push","keyIterator","next","done","keyChild","valueChild","get","set","iterator","entryChild","add","attrs","getOwnPropertyDescriptor","symbol","descriptor","enumerable","defineProperty","allPropertyNames","propertyName","Infinity","__objToStr","o","toString","re","flags","global","ignoreCase","multiline","Map","_","Set","Promise","clonePrototype","c","module","exports","arrPush","noop","defaultConf","Store","conf","filter","slice","objectAssign","dataStore","replace","newTree","findParentBranch","levelId","lvs","shift","findCurrentBranch","checkBranchAscendents","nextStatus","allBranchesChecked","some","b","allLeavesChecked","l","checkBranchDescendents","this$1","checkNode","nextState","checkLeaf","leafBranch","merge","deepClone","top","pos","pop","splice","commit","action","elem","callback","isNode","getPathResult","result","ref","apply","raw","render","mixins","EventMixin","props","required","uid","Number","computed","icon","folderLoding","folderOpen","isEmpty","fa-spinner cursor-progress","fa-folder-open-o","fa-folder-o","cursor-no-ops","components","v-node","VNode","v-leaf","VLeaf","store","v-branch","VBranch","root","KEY_MAP","ajax","v-tree","VTree","request","dirKey","nameKey","reqConf","method","params","pathAs","isGET","toUpperCase","$http","res","d","catch","created","$emit","factory","v","temp","arr","tryParse","isNaN","validate","version","semver","test","patch","v1","v2","s1","s2","n1","parseInt","n2","every","bind","p1","exec","p2","Math","max","checkVersion","compare","compareVersion","Vue","eventMix","hub","cb","$on","$off","types","_events","match","k","VFolderComp","install","component"],"mappings":"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"}